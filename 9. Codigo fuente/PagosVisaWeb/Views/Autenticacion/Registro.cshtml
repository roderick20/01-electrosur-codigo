@model PagosVisaWeb.Models.PdpUsrtUsuarioDelSistema

@{ ViewData["Title"] = "Registro de usuario";
    Layout = null; }
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>Pasalela de pagos | Electrosur</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Somos una empresa pública de derecho privado, cuya actividad principal es la distribución y comercialización de la energía eléctrica en los departamentos de Tacna y Moquegua. " name="description" />
    <meta content="Electrosur" name="author" />

    <link rel="shortcut icon" href="assets/images/favicon.ico">
    <link href="~/css/icons.min.css" rel="stylesheet" />
    <link href="~/css/app-creative.min.css" rel="stylesheet" />

    <style>
        body {
            background-color: #fafbfe;
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body>
    <div class="account-pages mt-5 mb-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-5">
                    <div class="card">
                        <div class="card-body p-4">
                            @if (ViewData["Grabado"] != null)
                            {
                <h3>Su registro ha sido grabado en breve se le enviara un correo para la confirmación.</h3>
                                <a href="https://pagos.electrosur.com.pe/" class="btn btn-primary btn-sm">Inicio</a> }
                                            else
                                            {
                                <div class="text-center w-75 m-auto">
                                    <img src="/images/logo-light.png" class="img-fluid" style="margin-bottom: 30px;">
                                    <h4 class="text-dark-50 text-center mt-0 font-weight-bold" style="margin-bottom: 20px;">Registro</h4>
                                    <h6>Campos obligatorios (*)</h6>
                                </div>
                                                <form asp-action="Registro" id="formRegistro">
                                                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <div class="form-group">
                                                                <select asp-for="UsrtipoDocumento" class="form-control" required="">
                                                                    <option disabled selected> (*) Tipo de Documento</option>
                                                                    <option>DNI</option>
                                                                    <option>RUC</option>
                                                                    <option>Carnet Extranjeria</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-6">
                                                            <div class="form-group">
                                                                <input type="number" asp-for="UsrnumeroDocumento" class="form-control" required="" placeholder="(*) Número Documento" />
                                                                <span id="errmsg" style="color: red;"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <input asp-for="Usrnombre" class="form-control" required="" placeholder="(*) Nombres" />
                                                            </div>
                                                        </div>
                                                        <div class="col-6">
                                                            <div class="form-group">
                                                                <input asp-for="UsrapellidoPaterno" class="form-control" required="" placeholder="(*) Apellido parterno" />
                                                            </div>
                                                        </div>
                                                        <div class="col-6">
                                                            <div class="form-group">
                                                                <input asp-for="UsrapellidoMaterno" class="form-control" required="" placeholder="(*) Apellido materno">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="email" asp-for="UsrcorreoPrimario" class="form-control" required="" placeholder="(*) Correo institucional o principal" />
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="email" asp-for="UsrcorreoSecundario" class="form-control" placeholder="Correo secundario" />
                                                    </div>
                                                    <div class="form-group">
                                                        <input asp-for="Usrtelefono" class="form-control" required="" placeholder="(*) Número de télefono o celular" />
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="password" asp-for="Usrcontrasena" class="form-control" placeholder="(*) Contraseña" />
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <img id="img-captcha" src="get-captcha-image" />
                                                            </div>
                                                            <input type="text" class="form-control" placeholder="(*) Captcha Code" name="CaptchaCode" maxlength="4" />
                                                            <div class="input-group-prepend">
                                                                <span id="img-captcha-b" class="btn btn-primary"><i class="uil uil-sync"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-12">
                                                            <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#bs-example-modal-lg"><i class="uil uil-bookmark"></i> Terminos y Condiciones</button>
                                                            <div class="modal fade" id="bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                                                                <div class="modal-dialog modal-lg">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h4 class="modal-title" id="myLargeModalLabel">Terminos y Condiciones</h4>
                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                                        </div>
                                                                        <div class="modal-body">
                                                                            <div style="text-align:center;">
                                                                                <h4>TÉRMINOS Y CONDICIONES </h4>
                                                                                <h4>USO DE LA PLATAFORMA WEB Y APP PARA COBRANZA DE RECIBOS MEDIANTE TARJETAS DE CRÉDITO/DEBITO</h4>
                                                                            </div>
                                                                            <p><b>ACERCA DEL USO DE LA PLATAFORMA.</b></p>
                                                                            <p style="text-align:justify;">1. Al  hacer  uso  de  esta  plataforma,  el  usuario  acepta  y  por  lo  tanto  autoriza  que  la información sea guardada en nuestros servidores, información la cual será únicamente para  el  uso  que  el  usuario  de estaplataforma  requiera  de  manera  expresa,  ya  sea  por medio de esta uotros canales de atención.</p>
                                                                            <p style="text-align:justify;">2. En  caso  que  el  usuario  desee  eliminar  su  información  deberá  de  comunicarlo  de manera escrita y por mesa de partes.</p>
                                                                            <p style="text-align:justify;">3. Para  cualquier  consulta  adicional  por  favor  llame  anuestra  Central  Telefónica  de FONOSUR 52-583316.</p>
                                                                            <p><b>ACERCA DE LOS MEDIOS DE PAGO.</b></p>
                                                                            <p style="text-align:justify;">4. Actualmente solo se permite el pago por medio de tarjetas de crédito y/o debito de marca VISA, MasterCard.</p>
                                                                            <p style="text-align:justify;">5. En  caso  de  extornos,  estos  deberán  ser  comunicados  el  mismo  día  de  efectuada  la operación,  dentro  del horario  de  Atención  al  Cliente  del  Comercio.  No  se  aceptan extornos posteriores a la fecha de pago.</p>
                                                                            <p style="text-align:justify;">6. En caso de requerir otros medios de pago, por favor llamar al Servicio de Cobranza al 52-583316.</p>
                                                                            <p style="text-align:justify;">7. El  cliente  podrá  cancelar  la  deuda  del  mes  anterior  que  aún  no  haya  vencido.  Al momento del pago, el sistema mostrarálas facturaciones que puede cancelar.</p>
                                                                            <p style="text-align:justify;">8. El cliente no asumirá ningún costo de comisión del servicio por parte del Comercio.</p>
                                                                            <p style="text-align:justify;">9. El  cliente  puede  presentar  reclamo  por  el  servicio  de  acuerdo  al  procedimiento  de reclamos del Comercio.</p>
                                                                            <p style="text-align:justify;">10. El mecanismo de pago a través del uso de tarjetas de crédito/débito es facultativo aelección del cliente”</p>
                                                                            <p><b>GENERALES.</b></p>
                                                                            <p style="text-align:justify;">10. Estas condiciones pueden cambiar sinprevio aviso y estarán publicadas en la página web institucional.</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-12">
                                                            <div class="custom-control custom-checkbox">
                                                                <input type="checkbox" class="custom-control-input" id="checkbox-signin" required>
                                                                <label class="custom-control-label" for="checkbox-signin">Estoy de acuerdo con los Terminos y Condiciones</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mb-3 text-center">
                                                        <button class="btn btn-primary"> <i class="uil uil-check"></i> Registrarse </button>
                                                    </div>
                                                </form>}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer footer-alt">
        2020 Elecrosur S.A.
    </footer>
    <script src="~/js/vendor.min.js"></script>
    <script src="~/js/app.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#img-captcha-b").click(function () {
                d = new Date();
                $("#img-captcha").attr("src", "/get-captcha-image?" + d.getTime());
            });


            $("#UsrnumeroDocumento").keypress(function (e) {
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                    $("#errmsg").html("Solo números").show().fadeOut("slow");
                    return false;
                }
            });

            $("#formRegistro").submit(function (event) {
                if ($("#UsrtipoDocumento").val() == "DNI") {
                    if ($("#UsrnumeroDocumento").val().length != 8) {
                        alert("DNI debe tener 8 digitos");
                        event.preventDefault();
                    }
                }
                if ($("#UsrtipoDocumento").val() == "RUC") {
                    if ($("#UsrnumeroDocumento").val().length != 11) {
                        alert("RUC debe tener 11 digitos");
                        event.preventDefault();
                    }
                }
                if ($("#UsrtipoDocumento").val() == "Carnet Extranjeria") {
                    if ($("#UsrnumeroDocumento").val().length != 12) {
                        alert("Carnet Extranjeria debe tener 12 digitos");
                        event.preventDefault();
                    }
                }

                if (!isEmail($("#UsrcorreoPrimario").val())) {
                    alert("Email primario invalido");
                    event.preventDefault();
                }

                if ($("#UsrcorreoSecundario").val() != "") {
                    if (!isEmail($("#UsrcorreoSecundario").val())) {
                        alert("Email secundario invalido");
                        event.preventDefault();
                    }
                }

            });
        });

        function isEmail(email) {
            var regex = /^([a-zA-Z0-9_.+-])+\@@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return regex.test(email);
        }
    </script>
</body>
</html>